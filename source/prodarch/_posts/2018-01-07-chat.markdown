---
layout:     source 
title:      "2018-01-07-WeChat"
date:       2018-01-07 12:00:00
author:     neypal
lines:      68 
tag:		  [chat]
---
> 00:11:39  alex陈  
   
感谢分享[强]  
   
> 00:18:55  山玉  
   
666 感谢分享  
   
> 08:50:58  我  
   
20171230-支付系统曾经遇到的坑和解决方案  
   
> 08:50:59  我  
   
周末学习  
   
> 09:13:12  山玉  
   
问题总结的很好 可是感觉有些问题没有给出具体解决方案呀  
   
> 09:13:26  山玉  
   
同时感谢分享  
   
> 09:27:38  王松-易宝支付-产品经理-北京  
   
[强]  
   
> 09:57:24  山玉  
   
易宝的  
   
> 18:08:55  TinTin  
   
[鼓掌][鼓掌][鼓掌]  
   
> 19:05:10  程琳-杉德支付-PM  
   
今天请到一位朋友，@牟宁波?天地融?产品?北京 给大家做分享，主题是“ 几种身份认证方法及其应用” 开始时间为【19:30】；欢迎欢迎[鼓掌][鼓掌][鼓掌]！（注： 1.嘉宾分享期间其他人不要发言打断嘉宾分享。2.分享完成后请大家积极补充和提问；3.烦请领取红包签到，谢谢！  
   
> 19:05:37  程琳-杉德支付-PM  
   
微信红包  
   
> 19:06:15  一生尤文  
   
签到  
   
> 19:06:16  黄灿  
   
签到  
   
> 19:06:31  程琳-杉德支付-PM  
   
欢迎欢迎牟童鞋给大伙儿分享[鼓掌][鼓掌][鼓掌]  
   
> 19:06:37  山玉  
   
签到  
   
> 19:06:44  一生尤文  
   
  
   
> 19:07:28  TinTin  
   
欢迎，欢迎哈  
   
> 19:08:04  balance  
   
签到  
   
> 19:09:51  MyCity  
   
签到。  
   
> 19:09:54  洋芋  
   
签到  
   
> 19:09:55  隔壁老王  
   
  
   
> 19:09:56  wujn  
   
签到  
   
> 19:10:19  走走停停  
   
打卡  
   
> 19:14:02  ??刘小莎  
   
打卡  
   
> 19:14:33  ｛润瑾｝  
   
签到  
   
> 19:14:56  neypal  
   
大家好，我今天分享的话题与支付业务直接相关性不大，但也有点交集，Word文档大家先看一下，有什么问题大家直接提问就好了  
   
> 19:14:57  neypal  
   
wxid_5499664995512:  
   
> 19:18:56  七夜  
   
[强]  
   
> 19:21:09  蔡少杏  
   
签到  
   
> 19:29:37  张洋_Yang  
   
签到  
   
> 19:31:07  产品汪  
   
签到  
   
> 19:31:10  产品汪  
   
[强]  
   
> 19:31:21  Melody??  
   
签到  
   
> 19:31:27  neypal  
   
OK，时间到，我们开始，今天周末，我们就以聊天的形式，任何问题随时聊  
   
> 19:32:39  neypal  
   
上面那个文档主要是从C端用户身份认证的角度整理了一下当前的主流方法  
   
> 19:34:26  neypal  
   
一般系统对系统的时候，如果不是内网，采用专线或VPN的方法比较多，身份认证很少单独拎出来  
   
> 19:36:00  neypal  
   
比如指纹，虽然很不安全，但我家还是用的指纹锁，无他，方便尔。  
   
> 19:38:11  neypal  
   
上面那个文档只是一个笼统介绍，看大家有什么想进一步了解的？  
   
> 19:42:22  程琳-杉德支付-PM  
   
指纹打卡机的指纹原理是不是跟手机设备上的指纹识别比较像？  
   
> 19:45:31  neypal  
   
原理相同，实现上细节我不太清楚，不过看考核机上那种，高端的应该是带红外检测血管的，确认是真人，不过对指纹膜效果也不是很好，手机上主要是检测指纹的纹理特征  
   
> 19:46:44  山玉  
   
两个问题 微信支付宝的条码生成规则大概是什么思路 因最近有项目要做  
   
> 19:47:48  山玉  
   
另一个问题 关于离线支付 我不是很清楚机制 这个离线是指扫码设备离线还是 C端用户被扫设备离线？  
   
> 19:47:54  neypal  
   
首先，具体的规则我不知道，只能从类似的产品思路进行推断一下  
   
> 19:49:07  山玉  
   
嗯 肯定不能让你知道咯 我意思像这种一般都是什么套路生成的  
   
> 19:50:26  neypal  
   
先说第二个简单的问题，扫码设备离线目前只有一种方式，就是坐公交车的时候，POS机上那个扫码器，不一定实时在线，允许离线，在线后再结算  
   
> 19:51:28  山玉  
   
像支付宝不是也有离线支付吗  
   
> 19:51:50  山玉  
   
这个流程有无研究过呀  
   
> 19:52:13  neypal  
   
C端用户离线的时候虽然也能用，但支持离线的时间不长，只能应对网络不好的情况，离线时间长了也不能生成条形码  
   
> 19:53:25  neypal  
   
支付宝的扫码器离线工作我还真没接触过，群里谁了解可以帮忙解答一下  
   
> 19:54:53  neypal  
   
现在聊第一个问题，前端和后台如何共认一个条形码，我能想到的方法有如下几种  
   
> 19:56:12  东方  
   
@牟宁波?天地融?产品?北京?支付宝扫码器什么意思  服务本身肯定要在线的  只是调用扫码设备sdk吧   客户端条码本身可以离线    
   
> 19:56:27  吕彦鹏  
   
支付宝离线应该使用了文档中的 otp令牌的基础算法  
   
> 19:56:34  neypal  
   
1.终端不具备运算能力，条形码是后台生成的，内含用户的账号等信息，终端只是透传，从哪个POS机上收到这个条形码数字就认为客户在这个POS机上消费了  
   
> 19:58:18  neypal  
   
@东方-合农网络-产品经理-上海?就是说POS不一定在线，这个应用场景我了解到的就一种  
   
> 20:00:00  neypal  
   
2.如@吕彦鹏-九派支付-架构师-北京?所说，用的软OTP算法，原理与硬件OTP有些类似  
   
> 20:01:38  neypal  
   
3.其实二维码能承载的信息量要比条形码大的多，一些二维码中直接包含了时间戳，数字签名等信息  
   
> 20:03:54  neypal  
   
因为是纯软的，所以以上三种情况都要求有与后台的同步机制，以及有效期机制，以便风险控制  
   
> 20:05:24  neypal  
   
OK，这个问题我能想到的就这么多。  
   
> 20:05:57  山玉  
   
主要现在合作方大都不支持二维码 条形码都支持  
   
> 20:07:28  neypal  
   
我一直觉得主要是成本问题，包括系统开发成本，终端成本等  
   
> 20:08:55  东方  
   
明显的  二维码扫码设备都贵不少  
   
> 20:09:59  neypal  
   
其实二维码本身纠错能力蛮好的，支持不同纠错能力的设置，只要不把关键几个点挡住，一切好商量[呲牙]  
   
> 20:55:46  hjywjgs～朱文义  
   
为啥二维码和条码的成本差距很大？感觉没啥大区别，现在二维码这么流行了边际成本应该会很低啊  
   
> 21:00:19  neypal  
   
扫码枪，条形码是通用产品，啥地方都能用，二维码扫码要求更多图像识别定位，纠错码解码，不同等级，不同容量等一系列功能  
   
> 21:06:32  hjywjgs～朱文义  
   
怪不得现在都是付款码都是两个  
   
> 21:07:04  hjywjgs～朱文义  
   
成本大概差多少  
   
> 21:07:09  hjywjgs～朱文义  
   
@牟宁波?天地融?产品?北京?  
   
> 21:08:18  neypal  
   
其实硬件成本差别不大，目测100块以内hold住，市场价格未知  
   
> 21:10:01  hjywjgs～朱文义  
   
嗯，可能也是考虑更换设备麻烦，兼容条码，讨好商户。  
   
> 21:10:02  neypal  
   
看了一眼，淘宝上卖都不到100块[尴尬]  
   
> 21:22:38  hjywjgs～朱文义  
   
嗯，确实很便宜  
   
